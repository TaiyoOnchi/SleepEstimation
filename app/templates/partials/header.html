<!-- header.html -->
<header class="bg-gradient-to-r from-blue-600 to-blue-800 shadow-md">
  <div class="container mx-auto px-4 py-3">
    <div class="flex justify-between items-center">
      <!-- ロゴ -->
      <a href="{% if current_user.is_authenticated and current_user.role == 'student' %} 
                    {{ url_for('app.student.dashboard.dashboard') }}
                {% elif current_user.is_authenticated and current_user.role == 'teacher' %} 
                    {{ url_for('app.teacher.dashboard.dashboard') }}
                {% else %} 
                    {{ url_for('app.home.top.top') }}
                {% endif %}" 
         class="text-2xl font-bold text-white hover:text-blue-200 transition duration-300">
        EORシステム
      </a>

      <nav class="hidden md:flex space-x-4">
        {% if current_user.is_authenticated %}
          {% if current_user.role == 'student' %}
            <a href="{{ url_for('app.student.lecture.register') }}" class="text-white hover:text-blue-200 transition duration-300">履修科目一覧</a>
            <a href="{{ url_for('app.student.lecture.join') }}" class="text-white hover:text-blue-200 transition duration-300">講義に参加する</a>
            <a href="{{ url_for('app.auth.logout') }}" class="text-white hover:text-blue-200 transition duration-300">ログアウト</a>
          {% elif current_user.role == 'teacher' %}
            <a href="{{ url_for('app.auth.logout') }}" class="text-white hover:text-blue-200 transition duration-300">ログアウト</a>
          {% endif %}
        {% else %}
          <a href="{{ url_for('app.student.register.register') }}" class="text-white hover:text-blue-200 transition duration-300">学生サインアップ</a>
          <a href="{{ url_for('app.student.login.login') }}" class="text-white hover:text-blue-200 transition duration-300">学生ログイン</a>
          <a href="{{ url_for('app.teacher.register.register') }}" class="text-white hover:text-blue-200 transition duration-300">教員サインアップ</a>
          <a href="{{ url_for('app.teacher.login.login') }}" class="text-white hover:text-blue-200 transition duration-300">教員ログイン</a>
        {% endif %}
      </nav>

      <!-- モバイルメニューボタン -->
      <button class="md:hidden text-white focus:outline-none" id="mobile-menu-button">
        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
        </svg>
      </button>
    </div>

    <!-- モバイルメニュー -->
    <div class="md:hidden hidden mt-2" id="mobile-menu">
      {% if current_user.is_authenticated %}
        {% if current_user.role == 'student' %}
          <a href="{{ url_for('app.student.lecture.register') }}" class="block py-2 text-white hover:bg-blue-700">履修科目一覧</a>
          <a href="{{ url_for('app.student.lecture.join') }}" class="block py-2 text-white hover:bg-blue-700">講義に参加する</a>
          <a href="{{ url_for('app.auth.logout') }}" class="block py-2 text-white hover:bg-blue-700">ログアウト</a>
        {% elif current_user.role == 'teacher' %}
          <a href="{{ url_for('app.auth.logout') }}" class="block py-2 text-white hover:bg-blue-700">ログアウト</a>
        {% endif %}
      {% else %}
        <a href="{{ url_for('app.student.register.register') }}" class="block py-2 text-white hover:bg-blue-700">学生サインアップ</a>
        <a href="{{ url_for('app.student.login.login') }}" class="block py-2 text-white hover:bg-blue-700">学生ログイン</a>
        <a href="{{ url_for('app.teacher.register.register') }}" class="block py-2 text-white hover:bg-blue-700">教員サインアップ</a>
        <a href="{{ url_for('app.teacher.login.login') }}" class="block py-2 text-white hover:bg-blue-700">教員ログイン</a>
      {% endif %}
    </div>
  </div>
</header>

<script>
  document.getElementById('mobile-menu-button').addEventListener('click', function() {
    document.getElementById('mobile-menu').classList.toggle('hidden');
  });
</script>